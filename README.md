# The Machine

**The Machine** is an experimental, real-time survival simulation and engine-building game,\
developed as a Progressive Web App (PWA).\
The player manages a single abstract machine that continuously produces tokens, consumes energy,
and\
becomes increasingly energy-hungry as output risesbecomes increasingly energy-hungry as output rises and accumulates wear over time.
The goal: survive as long as possible before the system collapses.

---

## ⚠️ Status

This project is **in active prototype phase**.\
Core systems (energy, wear, tick cycle) are implemented and running.
Heat system is in design phase.\
UI layout and live updates are functional, but modules, economy, and event logic are still in
design.

---

## 🧰 Current Prototype Features

- Real-time tick cycle with live updates
- Dynamic **energy**, **output**, and **wear** meters
- Interactive **action buttons**:
  - **Buy Energy** (costs tokens, refills energy)
  - **Repair Wear** (costs tokens, reduces wear)
- First module implemented:
  - **Vault** (3 levels, increases token cap, raises wear rate per level)
- Automatic enable/disable logic based on current state
- Visual icons via Material Symbols for consistent UI

---

## 🎯 Core Goal

**There is no winning state.** The machine is designed to collapse.  
Modules don't solve problems — they delay failure while creating new pressures.  
Your score is how long you can keep it running before the inevitable breakdown.

- Survive as long as possible → **score = time survived**
- Keep the machine alive by:
  - Managing **energy** and its increasing cost
  - Managing **wear** accumulation through repairs and strategic upgrades
  - Managing **wear** which leads to failure
  - Installing and upgrading **modules**

---

## 🔁 Core Loop

The machine runs in continuous **ticks** — short real-time intervals that represent system cycles.

Each tick:

- Produces tokens (`+🪙`)
- Increases energy cost (`↑⚡ cost`)
- Accumulates wear (`+wear%`) — amplified by active modules (e.g. Vault)

The player can take actions (buy energy, repair wear, or upgrade modules) at any time —\
but time and wear accumulation never stop.\
When energy reaches **0** or wear hits **100%**, the machine fails.

---

## ⚙️ System Overview

All key systems are connected through one feedback loop:

```
Output ↑ → Token Capacity ↑ (via Vault) → Wear Rate ↑ → Collapse (at 100%)
                                    ↖----------- Repair ↓

Energy Cost Growth (separate pressure, increases each tick)
```

- Output/actions can generate heat.
- Heat builds only from those actions and **amplifies wear**.
- Wear is the only collapse condition (at 100%). Energy 0 also fails.
- Energy cost growth is a separate, time-based pressure to scale production.

---

## 🔩 Modules & Bays – Building the Machine

The machine consists of multiple **bays** arranged in a fixed layout.\
All bays exist from the start — but most are inactive until the player installs them.

- **Fixed structure:** no random shop or rerolling. All potential modules are visible.
- **Start state:** basic energy, output, and wear systems active. One module (Vault) is available for installation.
- **Activation:** inactive bays can be installed anytime for a cost, adding their effects to the
  system.
- **Upgrading:** installed bays can be enhanced, increasing benefits and drawbacks.
- **Categories (planned):**
  - **Vault** (implemented) – increases token capacity, raises wear rate
  - **Generator** (planned) – increases output but raises heat and energy cost
  - **Battery** (planned) – expands energy capacity but increases energy cost
  - **Cooling** (planned) – lowers heat; costs energy
  - **Efficiency** (planned) – slows energy cost growth
  - **Fabricator** (planned) – produces upgrade currency

---

## 💥 Wear Dynamics (Heat planned)
**Wear** accumulates each tick (base: 2%/tick) and is amplified by module upgrades (e.g. Vault).
When wear reaches 100%, the machine fails.
**Heat system** (planned): will be generated by specific modules and amplify wear further.
**Cooling** (planned) modules will reduce heat but consume energy.\
Overheating alone does not cause failure; only when wear reaches 100% does the system collapse.

---

## ⚡ Events & Market Dynamics (Planned)

Occasional events and market shifts add unpredictability to the system:

- **Energy price drift:** trends upward over time, with small fluctuations per tick.
- **Instability events:** temporary modifiers to tick speed, heat generation, or consumption.
- **Emergency actions:** one-time relief options (e.g., temporary battery injection).

Events are rare but impactful — designed to disrupt routines and force adaptive play.

---

## 🧮 Balancing (initial draft values)

- Base production: **+2 🪙/tick**
- Base energy cost growth: **+0.02 ⚡/tick** (time-based pressure)
- Base wear growth: **+2% per tick** (linear, constant rate)
- Repair cost: **5 🪙 for -10% wear**
- Heat amplifies wear (planned)
- Example wear formula (planned): `wearDelta = baseWearPerTick + (heat * heatAmplificationFactor)`
- Heat generation (planned): from specific modules
- Cooling effect (planned): reduces heat by fixed amount per tick
- Energy capacity: **10 ⚡**
- Energy price: **3 🪙 for +5 ⚡**
- Tick duration: **6 s**
- **Vault Module:**
  - Max Level: 3
  - Cost: 9 🪙 initial, +9 🪙 per level
  - Effect: +10 token capacity per level
  - Drawback: +1% wear/tick per level


---

## 🎨 Interface & Experience

- Minimal, abstract interface resembling a machine control panel.
- Each element of the machine — from stats to modules — appears as a **Bento card** within a unified
  grid.
- The entire layout acts as a single, dynamic dashboard where every tile represents part of the
  machine’s system.
- Tiles can vary in size and purpose, depending on the information or interaction they represent.
- As the machine evolves, new tiles activate and fill the grid, making progress visually tangible.
- Visual and audio feedback communicate system stress (tick pulse, alerts, color shifts).
- Designed for clarity under pressure, adaptable to both mobile and desktop.
- Style: sleek, high-tech, industrial — no decorative illustrations.

---

## 🎮 Controls

- **Buy Energy** → costs 3🪙, adds +5⚡
- **Repair Wear** → costs 5🪙, reduces wear by -10%
- **Vault Install/Upgrade** → costs 9🪙 (+9 per level), increases token cap (+10), raises wear rate (+1%/tick)
- Buttons disable automatically when insufficient tokens or caps/limits reached


---

## 📌 Roadmap

- [x] UI prototype (modular tiles, HUD, live feedback)
- [x] Core state engine (energy, wear, tick cycle with cost growth)
- [x] Interactive action system (buttons, costs, enable/disable logic)
- [x] Wear system with visual hue shift
- [x] First upgradeable module (Vault)
- [ ] Heat system and heat-generating modules
- [ ] Full bay/module system (Generator, Battery, Cooling, etc.)
- [ ] Upgrade economy and secondary currency
- [ ] Event & market system
- [ ] Visual feedback: alerts, color shifts, animations
- [ ] Balancing iterations & playtest loops

---

## 📖 License

TBD – project is in an early stage.
