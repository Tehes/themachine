# The Machine

**The Machine** is an experimental, real-time survival simulation and engine-building game,\
developed as a Progressive Web App (PWA).\
The player manages a single abstract machine that continuously produces tokens, consumes energy,
and\
becomes increasingly energy-hungry as output rises, generating heat through certain actions.\
The goal: survive as long as possible before the system collapses.

---

## ⚠️ Status

This project is **in active prototype phase**.\
Core systems (energy growth, heat, and tick cycle) are implemented and running.\
UI layout and live updates are functional, but modules, economy, and event logic are still in
design.

---

## 🧰 Current Prototype Features

- Real-time tick cycle with live updates
- Dynamic **energy**, **output**, and **heat** meters
- Interactive **action buttons**:
  - **Buy Energy** (costs tokens, refills energy)
- Automatic enable/disable logic based on current state
- Visual icons via Material Symbols for consistent UI

---

## 🎯 Core Goal

**There is no winning state.** The machine is designed to collapse.  
Modules don't solve problems — they delay failure while creating new pressures.  
Your score is how long you can keep it running before the inevitable breakdown.

- Survive as long as possible → **score = time survived**
- Keep the machine alive by:
  - Managing **energy** and its increasing cost
  - Controlling **heat** buildup through specific actions
  - Managing **wear** which leads to failure
  - Installing and upgrading **modules**

---

## 🔁 Core Loop

The machine runs in continuous **ticks** — short real-time intervals that represent system cycles.

Each tick:

- Produces tokens (`+🪙`)
- Increases energy cost (`↑⚡ cost`)
- Generates heat (`+🔥`) when heat-producing modules or actions run (e.g., Generator, Overclock,
  Fabricator)

The player can take actions (buy energy, activate or upgrade modules) at any time —\
but time and wear accumulation never stop.\
When energy reaches **0** or wear hits **100%**, the machine fails.

---

## ⚙️ System Overview

All key systems are connected through one feedback loop:

```
Actions/Output ↑ → Heat ↑ → Wear ↑ → Collapse (at 100%)
              ↖----------- Cooling ↓

Energy Cost Growth (separate pressure)
```

- Output/actions can generate heat.
- Heat builds only from those actions and **amplifies wear**.
- Wear is the only collapse condition (at 100%). Energy 0 also fails.
- Energy cost growth is a separate, time-based pressure to scale production.

---

## 🔩 Modules & Bays – Building the Machine

The machine consists of multiple **bays** arranged in a fixed layout.\
All bays exist from the start — but most are inactive until the player installs them.

- **Fixed structure:** no random shop or rerolling. All potential modules are visible.
- **Start state:** only core modules (e.g. Generator + Battery) are active.
- **Activation:** inactive bays can be installed anytime for a cost, adding their effects to the
  system.
- **Upgrading:** installed bays can be enhanced, increasing benefits and drawbacks.
- **Categories:**
  - **Generator** – increases output but raises heat and energy cost
  - **Battery** – expands energy capacity but increases energy cost
  - **Cooling** – lowers heat; **costs energy**.
  - **Efficiency** – slows energy cost growth and improves sustainability
  - **Fabricator** – produces upgrade currency for modules
- **Persistence:** bays remain consistent throughout a run; no RNG churn.
- **Emergent variety:** runs diverge through activation order, upgrade timing, and risk management
  —\
  not through randomness.

---

## 💥 Heat & Wear Dynamics

**Heat** is generated by specific actions and modules (e.g., Generator, Overclock, Fabricator).\
Each degree of heat amplifies ongoing wear.\
**Cooling** modules reduce heat but consume energy.\
Overheating alone does not cause failure; only when wear reaches 100% does the system collapse.

---

## ⚡ Events & Market Dynamics

Occasional events and market shifts add unpredictability to the system:

- **Energy price drift:** trends upward over time, with small fluctuations per tick.
- **Instability events:** temporary modifiers to tick speed, heat generation, or consumption.
- **Emergency actions:** one-time relief options (e.g., temporary battery injection).

Events are rare but impactful — designed to disrupt routines and force adaptive play.

---

## 🧮 Balancing (initial draft values)

- Base production: **+2 🪙/tick**
- Base energy cost growth: **+0.02 ⚡/tick** (time-based pressure)
- Base wear growth: **+2% per tick** (linear, constant rate)
- Heat amplifies wear accumulation on top of base growth
- Example wear formula: `wearDelta = baseWearPerTick + (heat * heatAmplificationFactor)`
- Heat generation: from specific actions/modules (e.g., Generator, Overclock, Fabricator)
- Cooling effect: reduces heat by a fixed amount per tick (e.g., `−1 °C/tick`)
- Energy capacity: **10 ⚡**
- Energy price: **3 🪙 for +5 ⚡**
- Tick duration: **6 s**

---

## 🎨 Interface & Experience

- Minimal, abstract interface resembling a machine control panel.
- Each element of the machine — from stats to modules — appears as a **Bento card** within a unified
  grid.
- The entire layout acts as a single, dynamic dashboard where every tile represents part of the
  machine’s system.
- Tiles can vary in size and purpose, depending on the information or interaction they represent.
- As the machine evolves, new tiles activate and fill the grid, making progress visually tangible.
- Visual and audio feedback communicate system stress (tick pulse, alerts, color shifts).
- Designed for clarity under pressure, adaptable to both mobile and desktop.
- Style: sleek, high-tech, industrial — no decorative illustrations.

---

## 🎮 Controls

- **Buy Energy** → increases ⚡ energy by amount shown on the button.
- Buttons disable automatically when insufficient tokens or caps reached.

---

## 📌 Roadmap

- [x] UI prototype (modular tiles, HUD, live feedback)
- [x] Core state engine (energy growth, heat, tick)
- [x] Interactive action system (buttons, costs, enable/disable logic)
- [ ] Heat and efficiency system
- [ ] Upgrade economy and secondary currency
- [ ] Bay system (activation, upgrades, interactions)
- [ ] Event & market system
- [ ] Visual feedback: alerts, color shifts, animations
- [ ] Balancing iterations & playtest loops

---

## 📖 License

TBD – project is in an early stage.
